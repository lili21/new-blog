---
date: 2022-09-20
title: Remixç³»åˆ— - Remixå¦‚ä½•è®©LCPå‡å°‘70%
---

## èƒŒæ™¯

MLBBæˆ˜æŠ¥æ˜¯ä¸€ä¸ªä¸ºMLBBçš„ç©å®¶æä¾›æ¯å‘¨æ¸¸æˆæ•°æ®æ€»ç»“çš„H5é¡µé¢ã€‚æˆ˜æŠ¥åªæœ‰ä¸€ä¸ªé¡µé¢ï¼Œæ¯ä¸ªæ¨¡å—ä¸ºä¸€å±ï¼Œç”¨æˆ·é€šè¿‡ä¸Šåˆ’æ¥æŸ¥çœ‹ä¸åŒæ¨¡å—çš„æ•°æ®ä¿¡æ¯ï¼Œæ¯”å¦‚æ®µä½ã€è‹±é›„ç­‰ã€‚

<div data-grid-img>

 ![image](http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/acc7123851994055b7526828a45257be~tplv-k3u1fbpfcp-watermark.image?)

![image](http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bf8419bf705e4db2a5d1f111f375f4db~tplv-k3u1fbpfcp-watermark.image?)

![image](http://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6c6588fd20084ceea22438aa73e44947~tplv-k3u1fbpfcp-watermark.image?)
 
</div>



ç›®å‰MLBBçš„ç©å®¶ä¸»è¦åˆ†å¸ƒåœ¨ä¸œå—äºšå’Œæ‹‰ç¾åœ°åŒºï¼Œèº«å¤„è¿™äº›åœ°åŒºçš„ç”¨æˆ·æœ¬èº«çš„ç½‘ç»œè´¨é‡æ˜¯æ¯”è¾ƒå·®çš„ã€‚

ç”¨æˆ·ç½‘ç»œå·®çš„æƒ…å†µä¸‹ï¼Œç”±ç”¨æˆ·è®¾å¤‡å‘èµ·çš„ç½‘ç»œè¯·æ±‚è¶Šå¤šï¼Œä½“éªŒè¶Šå·®ã€‚ç›¸æ¯”äºCSRï¼ŒSSRåœ¨æˆ‘ä»¬è‡ªå·±çš„æœåŠ¡å™¨å‘èµ·è¯·æ±‚æ•°æ®ï¼Œæ¸²æŸ“HTMLï¼Œå†è¿”å›ç»™æµè§ˆå™¨ã€‚ç”±ç”¨æˆ·å‘èµ·çš„ç½‘ç»œè¯·æ±‚å‡å°‘äº†ï¼ˆfetch dataï¼‰ï¼Œé¡µé¢å°±æ¸²æŸ“çš„æ›´å¿«äº†ï¼ˆFPï¼ŒLCPï¼‰ã€‚

<div data-grid-img>

 ![image](http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0d610a2034324778ba132615d27e1578~tplv-k3u1fbpfcp-watermark.image?)

![image](http://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/88b4845219ea4a5e92e7f13fb0c6e755~tplv-k3u1fbpfcp-watermark.image?)
 
</div>



æ‰€ä»¥æˆ‘ä»¬å†³å®šé€šè¿‡æŠŠæˆ˜æŠ¥ä»CSRè¿ç§»åˆ°SSRï¼Œæ¥æå‡é¡µé¢åŠ è½½é€Ÿåº¦ã€‚ç¡®å®šå¥½æ–¹æ¡ˆä¹‹åï¼Œä¸‹ä¸€æ­¥å°±æ˜¯é€‰æ‹©SSRæ¡†æ¶ã€‚



## Remixç®€ä»‹

Remixæ˜¯å»å¹´11æœˆä»½å¼€æºçš„ä¸€ä¸ªå…¨æ ˆï¼ŒåŸºäºReactæä¾›æœåŠ¡ç«¯æ¸²æŸ“èƒ½åŠ›çš„webæ¡†æ¶ã€‚ç”±react-routerä½œè€…Ryan Florenceå’ŒMICHAEL JACKSONä¸€èµ·åˆ›å»ºã€‚ä¸€ç»å¼€æºå°±å¹¿å—å¥½è¯„ã€‚æŠŠç©ä¸€ç•ªåå°±æ„Ÿè§‰ç›¸è§æ¨æ™š - åŸæ¥SSRå¯ä»¥è¿™ä¹ˆç®€å•ã€‚



## å‰æœŸå‡†å¤‡å·¥ä½œ

ç»™ä¸€ä¸ªCç«¯äº§å“åšæŠ€æœ¯é€‰å‹ï¼Œé¦–å…ˆè¦è€ƒè™‘çš„å°±æ˜¯å…¼å®¹æ€§ã€‚Remixåªèƒ½è¿è¡Œåœ¨æ”¯æŒES Modulesçš„æµè§ˆå™¨ä¸Š

<div data-type="transform-warn" data-index="18"> 

 ![image](http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/918be0e08e00406190372f53131d0b75~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

caniuse ä¸Šçš„æ•°æ®çœ‹ï¼Œå…¼å®¹æ€§å·²ç»éå¸¸å¥½ã€‚ä½†è¿˜æ˜¯éœ€è¦çœ‹ä¸‹ç”¨æˆ·çš„å®é™…æƒ…å†µ

ä¸ºæ­¤ï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­åŠ äº†SlardaråŸ‹ç‚¹ï¼Œæ”¶é›†äº†ä¸€ä¸ªåŒæœˆçš„æ•°æ®ã€‚åŸ‹ç‚¹ä»£ç å¦‚ä¸‹

```html
<script type="module">
  window.Slardar('sendEvent', {
     name: 'esmodule',
     categories: {
        support: '1'
      }
  });
</script>
<script nomodule>
   window.Slardar('sendEvent', {
     name: 'esmodule',
     categories: {
       support: '0'
     }
   });
 </script>

```

çº¿ä¸Šæ•°æ®å¦‚ä¸‹

<div data-type="transform-warn" data-index="23"> 

 ![image](http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/acdadc5b8cee4f009e9d1eac5fc8f8aa~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

æ”¯æŒç‡è¶…è¿‡99.5%ï¼Œå¯ä»¥å¤§èƒ†ä½¿ç”¨äº†ã€‚æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹Remixæ˜¯å¦‚ä½•è®©é¦–å±è€—æ—¶å‡å°‘70%çš„

## ç¬¬ä¸€æ­¥ï¼šä»CSRåˆ°SSR  7s - 4s

æ•´ä¸ªæˆ˜æŠ¥Remixé¡¹ç›®ä»CSRè¿ç§»åˆ°SSRï¼Œå·®ä¸è¿‡è€—æ—¶5äººå¤©å®Œæˆã€‚



è¿™é‡Œæˆ‘ä»¬ä»¥LCPä½œä¸ºæŒ‡æ ‡ï¼Œè§‚å¯Ÿä¸€ä¸‹è¿ç§»ä¹‹åçš„æ•ˆæœï¼Œå¯ä»¥çœ‹åˆ°æ€§èƒ½æœ‰æå‡ï¼Œè¿‘7s -> 4sï¼Œå‡å°‘äº†40%ï¼š

<div data-type="transform-warn" data-index="29"> 

 ![image](http://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7cf21c3b1dcd483ea20beba627e21244~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

è™½ç„¶åé¢åˆç»è¿‡è¿›ä¸€ç³»åˆ—çš„ä¼˜åŒ–ï¼Œæœ€ç»ˆæŠŠLCPæ§åˆ¶åœ¨äº†2så·¦å³ï¼Œä½†æ˜¯åœ¨è¿™ä¸€æ¿å—æˆ‘ä»¬å…ˆä»‹ç»ä¸€ä¸‹æ¡†æ¶åˆ‡æ¢ï¼ˆCSR -> SSRï¼‰å¸¦ç»™æˆ‘ä»¬çš„æ€§èƒ½æå‡ã€‚



<div data-grid-img>

 ![image](http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b14d4057e5234b40b6ae3941a3c2232a~tplv-k3u1fbpfcp-watermark.image?)

![image](http://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e3915ee7a23a43f08239d0a23157b2dd~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

é€šè¿‡åˆ†æSSRçš„å·¥ä½œæµç¨‹æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¯¼è‡´LCPæå‰çš„ä¸»è¦å› ç´ æ˜¯SSRä¼šç›´æ¥è¿”å›å®Œæ•´çš„HTMLç»™æµè§ˆå™¨ï¼Œ è¿™æ ·æµè§ˆå™¨æ‹¿åˆ°HTMLä¹‹åæ¸²æŸ“å°±å¯ä»¥è¾¾åˆ°LCPã€‚



ç›¸æ¯”äºCSRï¼Œå‡å°‘äº†å®¢æˆ·ç«¯è¯·æ±‚JSï¼Œæ‰§è¡ŒJSï¼Œä»¥åŠå†å»æ•°æ®è¯·æ±‚çš„æ—¶é—´ã€‚è™½ç„¶åœ¨SSRä¸­ï¼Œè¿™éƒ¨åˆ†çš„å·¥ä½œå¹¶æ²¡æœ‰æ¶ˆå¤±ï¼Œåªæ˜¯è½¬ç§»åˆ°äº†æœåŠ¡ç«¯ã€‚ä¸è¿‡ï¼š

1.  åœ¨æœåŠ¡ç«¯ä¸éœ€è¦è¯·æ±‚JS ï¼Œå‡å°‘äº†ä¸€æ¬¡è¯·æ±‚ï¼Œä¹Ÿé¿å…äº†è¯·æ±‚å®ŒJSæ‰èƒ½æ‹‰å–æ•°æ®çš„ç€‘å¸ƒæµ

1.  åœ¨æœåŠ¡ç«¯ï¼Œå› ä¸ºåœ¨åŒæœºæˆ¿ï¼Œæ•°æ®è¯·æ±‚æ›´å¿«



åƒä¸Šé¢æˆ‘ä»¬æåˆ°çš„ï¼Œä¸œå—äºšç”¨æˆ·çš„ç½‘ç»œæ¡ä»¶ä¸å¥½ï¼Œå› æ­¤å¸Œæœ›å°½å¯èƒ½å‡å°‘é¡µé¢é¦–å±æ¸²æŸ“ï¼Œéœ€è¦ä»ç”¨æˆ·ç«¯å‘å‡ºçš„è¯·æ±‚æ¬¡æ•°ï¼Œè€ŒSSRæ­£å¥½å¸®æˆ‘ä»¬åšåˆ°äº†è¿™ä¸€ç‚¹ã€‚

<div data-grid-img>

 ![image](http://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0a9c864397484fe8a04828c0b7ffaf2e~tplv-k3u1fbpfcp-watermark.image?)

![image](http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/afb403a2965f47dca3d1e44ffb813c16~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

è¿‘7s -> 4s



### ã€æ‹“å±• | é€‰è¯»ã€‘Remixå¦‚ä½•è§£å†³æ•°æ®è¯·æ±‚çš„Waterfall

> è™½ç„¶è¿™ä¸ªç‰¹æ€§åœ¨æˆ˜æŠ¥è¿ç§»ä¸­ä½“ç°ä¸æ˜æ˜¾ï¼Œä½†Remixçš„è·¯ç”±çº§åˆ«åŠ è½½ï¼Œä»¥åŠå®ƒæ˜¯å¦‚ä½•è¯·æ±‚æ•°æ®Waterfallçš„é—®é¢˜è¿˜æ˜¯å€¼å¾—ä»‹ç»ä¸€ä¸‹çš„ã€‚

<div data-type="transform-error" data-index="45" data-block-type="é«˜äº®å—" data-content=""></div>



è¿™é‡Œæˆ‘ä»¬å…ˆå¼•å…¥ä¸€ä¸ªä¾‹å­æ¥å¸®åŠ©æˆ‘ä»¬ç†è§£ä»€ä¹ˆæ˜¯æ•°æ®è¯·æ±‚Waterfallã€‚ä¸‹å·¦å›¾æ˜¯è®¿é—®ä¸€ä¸ªTwitterç”¨æˆ·ç‚¹è¿‡èµçš„å¸–å­é¡µé¢()ï¼Œå³å›¾æ˜¯æŠ½è±¡å‡ºæ¥çš„ç»„ä»¶æ¨¡å‹ã€‚

<div data-grid-img>

 ![image](http://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b17f80105fc54147897621b6acccfbcf~tplv-k3u1fbpfcp-watermark.image?)

![image](http://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f53daf7fc5b74447b76fbc6b78b52d59~tplv-k3u1fbpfcp-watermark.image?)
 
</div>



å¦‚æœæˆ‘ä»¬æŒ‰ç…§æ­£å¸¸çš„é€»è¾‘æ¥å†™ï¼Œä¼šæŠŠç‚¹èµè¿‡çš„PostæŠ½æˆä¸€ä¸ªå•ç‹¬çš„ç»„ä»¶ï¼Œå¡å…¥é¡µé¢çˆ¶ç»„ä»¶ä¸­ï¼Œå¹¶åœ¨Postç»„ä»¶å†…éƒ¨è‡ªå·±è¯·æ±‚éœ€è¦çš„æ•°æ®ã€‚ä¸è¿‡å› ä¸ºçˆ¶ç»„ä»¶ä¸­ä¹Ÿéœ€è¦è¯·æ±‚Userç›¸å…³çš„æ•°æ®ï¼Œæ‰€ä»¥Posç»„ä»¶å†…éƒ¨çš„è¯·æ±‚ä¼šè¢«é˜»å¡ã€‚ç±»ä¼¼ä¸‹å›¾ç¤ºæ„ï¼š

<div data-type="transform-warn" data-index="51"> 

 ![image](http://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b04bee6d1b294992bdd2a952b2da4f93~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

*çˆ¶ç»„ä»¶åŠ è½½æ•°æ®æ—¶é¡µé¢ä¸€èˆ¬å±•ç¤ºloadingï¼Œå­ç»„ä»¶çš„ä»£ç å¾—ä¸åˆ°æ‰§è¡Œï¼Œæ•°æ®ä¹Ÿå°±æ— æ³•åŠ è½½*



ä½†æ˜¯åœ¨è¿™é‡Œï¼Œå¦‚æœæˆ‘ä»¬åé€€ä¸€æ­¥åˆ†æä¸€ä¸‹ï¼Œæˆ‘ä»¬ä¸€å®šè¦ä¾èµ–JSä»£ç å‘Šè¯‰æˆ‘ä»¬éœ€è¦è¯·æ±‚ä»€ä¹ˆæ•°æ®ä¹ˆï¼Ÿé€šè¿‡åˆ«çš„ä¿¡æ¯æ˜¯ä¸æ˜¯ä¹Ÿèƒ½é¢„æµ‹å½“å‰é¡µé¢æ‰€éœ€è¦çš„æ•°æ®å‘¢ï¼Ÿ



ä»”ç»†è§‚å¯Ÿä¸€ä¸‹ï¼Œä¸€ä¸ªè·¯ç”±ä¸‹æ‰€éœ€è¦è¯·æ±‚çš„æ•°æ®ï¼Œæ˜¯å¯ä»¥é€šè¿‡**é¡µé¢è·¯å¾„**åˆ†æå‡ºæ¥çš„ã€‚



è¿˜æ˜¯è¿™ä¸ªä¾‹å­ï¼Œå½“æˆ‘ä»¬è®¿é—®https://mobile.twitter.com/dan_abramov/likes è¿™ä¸ªé“¾æ¥æ—¶ï¼Œå…¶å®å°±èƒ½å¤ŸçŸ¥é“æˆ‘ä»¬éœ€è¦çŸ¥é“â€œdan\_abramovâ€è¿™ä¸ªç”¨æˆ·â€œlikesâ€çš„å¸–å­ï¼Œé‚£ä¹ˆå¯¹åº”éœ€è¦æ‹‰å–çš„æ•°æ®å°±æ˜¯ï¼š

<div data-type="transform-warn" data-index="59"> 

 ![image](http://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0478abf84f644e3484ce690f1f942505~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

1.  dançš„ä¸ªäººç”¨æˆ·ä¿¡æ¯

1.  ä»–èµè¿‡çš„å¸–å­



Remixçš„å¼€å‘è€…å°±é¡ºç€è¿™ä¸ªæ€è·¯ï¼Œæ¨å‡ºäº†**è·¯ç”±çº§åˆ«åŠ è½½**ã€‚åœ¨Remixä¸­ï¼Œæ¯ä¸€ä¸ªè·¯ç”±ä¼šå¯¹åº”ä¸€ä¸ªloaderï¼Œ loaderå¯ä»¥è¢«ç”¨æ¥æ‹‰å–ä¸€ä¸ªè·¯ç”±ä¸‹éœ€è¦çš„æ‰€æœ‰æ•°æ®ï¼Œè€Œåœ¨è·¯ç”±ç»„ä»¶å†…ä½¿ç”¨useLoaderDataå°±å¯ä»¥è·å–loaderä¸­çš„è¿”å›å€¼ã€‚



```jsx
...
// loader å†™æ³•ç¤ºæ„

export const loader: LoaderFunction = async () => {
  // data-fetching
  const data = await fetchData();
  return json(data);
};
 
export default function() {
  const data = useLoaderData();
  return (
      <div>{data.text}</div>
  );
}
```



è€Œä¸”Remixæ”¯æŒåŒæ—¶æ‹‰å–åµŒå¥—è·¯ç”±ä¸‹å¯¹åº”çš„æ‰€æœ‰loaderã€‚åœ¨è¿™é‡Œï¼Œå½“æˆ‘ä»¬è®¿é—®/dan\_abramov/likesæ—¶ï¼Œå®ƒä¼šåŒæ—¶å»å¯åŠ¨dan\_abramovå’Œlikesä¸¤ä¸ªè·¯ç”±ä¸‹çš„loadersï¼Œè¿™å°±å®Œç¾åœ°é¿å…äº†æˆ‘ä»¬åˆšåˆšæ‰€è¯´çš„è¯·æ±‚é˜»å¡å³ç€‘å¸ƒæµçš„æƒ…å†µã€‚



ç›¸æ¯”äºç®€å•åœ°æŠŠå­ç»„ä»¶çš„è¯·æ±‚æå‡åˆ°çˆ¶ç»„ä»¶ä¸­çš„è§£å†³æ–¹æ³•ï¼ŒRemixçš„æ–¹æ³•æ›´å…·æœ‰æ‹“å±•æ€§ã€‚å› ä¸ºå³ä½¿é¡¹ç›®è§„æ¨¡æ‰©å¤§ï¼Œæˆ‘ä»¬çš„åµŒå¥—è·¯ç”±å±‚çº§åŠ æ·±ï¼Œæˆ‘ä»¬ä¹Ÿåªéœ€è¦å…³æ³¨å¥½æ¯ä¸€ä¸ªè·¯ç”±ä¸‹æ‰€éœ€è¦çš„æ•°æ®ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬åªæ˜¯ä¸€å‘³åœ°æŠŠè¯·æ±‚æå‡åˆ°æ›´é«˜å±‚çº§ï¼Œè¿™ä¼šåŠ æ·±è€¦åˆï¼Œå¯¼è‡´çˆ¶ç»„ä»¶ä¸­çš„æ•°æ®è¯·æ±‚é‡å¢å¤§ï¼Œä»è€Œå¸¦æ¥æ•°æ®ç»´æŠ¤çš„é—®é¢˜ã€‚



Remixçš„è·¯ç”±çº§åˆ«åŠ è½½ï¼Œæ¯”è¾ƒå®Œç¾åœ°è§£å†³äº†æ•°æ®è¯·æ±‚ç€‘å¸ƒæµçš„é—®é¢˜ï¼Œä¹Ÿé¡ºå¸¦æä¾›äº†ä¸€ç§æ•°æ®çŠ¶æ€ç®¡ç†çš„æ–¹å¼ï¼Œé™¤äº†å‰ç«¯æ ·å¼éœ€è¦çš„å…¨å±€çŠ¶æ€ï¼Œé¡µé¢å±•ç¤ºéœ€è¦çš„åç«¯æ•°æ®éƒ½å­˜å‚¨åœ¨loaderé‡Œé¢å³å¯ã€‚åŒæ—¶Remixä¹Ÿæä¾›äº†actionå’Œfetcherç­‰æ–¹æ³•æ¥æ›´æ–°æ•°æ®ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥å»remixå®˜ç½‘æŸ¥çœ‹ã€‚



å› ä¸ºæˆ˜æŠ¥çš„é¡µé¢æ¯”è¾ƒç‰¹æ®Šï¼Œæ²¡æœ‰é¡µé¢åµŒå¥—çˆ¶å­ç»„ä»¶å¯¼è‡´çš„æ•°æ®ç€‘å¸ƒæµçš„æƒ…å†µï¼Œä½†æ˜¯è¿™ç§caseåœ¨ä¸šåŠ¡ä¸­è¿˜æ˜¯å¾ˆå¸¸è§çš„ï¼Œå¦‚æœä½ ä»¬çš„é¡¹ç›®ä¸­æœ‰è¿™ç§æƒ…å†µï¼Œä½¿ç”¨remixä¼˜åŒ–åçš„æ•ˆæœä¼šæ›´åŠ æ˜æ˜¾ã€‚



## ç¬¬äºŒæ­¥ï¼šå…³é”®å›¾ç‰‡é¢„åŠ è½½ 4s - 3s

4sçš„LCPï¼Œè™½ç„¶å·²ç»ä¼˜åŒ–äº†æ¥è¿‘40%ï¼Œä½†æ˜¾ç„¶è¿˜ä¸å¤Ÿå¥½ã€‚



æˆ‘ä»¬å¯ä»¥ç”¨Maievå¹³å°åšä¸€ä¸‹æ€§èƒ½åˆ†æ

<div data-type="transform-warn" data-index="79"> 

 ![image](http://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5d1b8201ed8349a9bc3854055ca373c1~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

3Gç½‘ç»œä¸‹FCP 1.5sï¼Œä½†LCP5så·¦å³ã€‚ä»ä¸Šå›¾çš„Render timelineéƒ¨åˆ†æ¥çœ‹ï¼Œå›¾ç‰‡æ˜¯å½±å“LCPçš„é‡è¦å› ç´ ã€‚ç”±äºMavieå¹³å°å…³äºç½‘ç»œåŠ è½½ç›¸å…³çš„æ•°æ®è¾ƒå°‘ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨Chromeçš„Performance insightsåšæ›´è¯¦ç»†çš„æ€§èƒ½åˆ†æ



<div data-type="transform-warn" data-index="82"> 

 ![image](http://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e5dda8c9608b4d219b4aa6de76ba4e69~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

å±•å¼€è¯¦ç»†çœ‹ä¸€ä¸‹ç½‘ç»œåŠ è½½çš„æƒ…å†µ

<div data-type="transform-warn" data-index="84"> 

 ![image](http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/82c27e34cd124d2abc8fbaab16b4839c~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

æœ‰ä¸€ä¸ªæ˜æ˜¾çš„ç½‘ç»œç€‘å¸ƒæµ ï¼Œå›¾ç‰‡åŠ è½½è¢«é˜»å¡äº†ã€‚é‚£æ˜¯å¦å¯ä»¥é¢„åŠ è½½å›¾ç‰‡å‘¢ï¼Ÿ

å¯ä»¥ç”¨preloadé¢„åŠ è½½å›¾ç‰‡ï¼Œå¦‚ä¸‹æ‰€ç¤º

```html
<link rel="preload" href="button-bg.png" as="image" />
```

å¯¹äºé™æ€çš„å›¾ç‰‡æ¥è®²ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡è·¯ç”±æ¨¡å—çš„linksæ–¹æ³•å®ç°ã€‚åªè¦\<link>æ ‡ç­¾æ”¯æŒçš„ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥åœ¨å†™linksæ–¹æ³•ä¸­ï¼ŒåŒ…æ‹¬æ ·å¼ï¼Œpreloadï¼Œprefetchç­‰

```js
export const links = () => [
  {
    rel: 'preload',
    href: 'button-bg.png',
    as: 'image'
  },
]
```

é‚£åŠ¨æ€å›¾ç‰‡æ€ä¹ˆåŠå‘¢ï¼Ÿåƒæˆ‘ä»¬é¦–é¡µæœ€å¤§çš„ä¸€å¼ å›¾ç‰‡ï¼Œå°±æ˜¯åç«¯æ¥å£è¿”å›çš„ï¼Œä¸åŒçš„ç”¨æˆ·ï¼Œä¸åŒçš„æˆ˜ç»©ï¼Œå›¾ç‰‡éƒ½ä¼šä¸åŒã€‚linksæ˜¯å¦æ”¯æŒè·å–loaderè¿”å›çš„æ•°æ®å‘¢ï¼Ÿ

```jsx
export const links = ({ data }) => [
  {
    rel: 'preload',
    href: 'button-bg.png',
    as: 'image'
  },
  {
    rel: 'preload',
    href: data.hero.image_url,
    as: 'image',
  }
]
```

å¾ˆé—æ†¾ï¼Œlinkså¹¶ä¸æ”¯æŒè¿™ç§å†™æ³•ã€‚ä½†æˆ‘ä»¬å¯ä»¥ç”¨è·¯ç”±æ¨¡å—çš„handleæ¥å®ç°ã€‚æ¯ä¸€ä¸ªè·¯ç”±ç»„ä»¶éƒ½å¯ä»¥æš´éœ²å‡ºä¸€ä¸ªhandleå¯¹è±¡ï¼Œå€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹

```js
export const handle = {
  its: "all yours",
}
```

åŒæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Remixæä¾›çš„useMatchesæ–¹æ³•ï¼Œè·å–åˆ°å½“å‰é¡µé¢æ‰€æœ‰è·¯ç”±çš„ä¿¡æ¯ã€‚

```js
[
  { id, pathname, data, params, handle }, // root route 
  { id, pathname, data, params, handle }, // layout route 
  { id, pathname, data, params, handle }, // child route 
  // etc.
 ];
```

dataæ˜¯è·¯ç”±loaderè¿”å›çš„æ•°æ®ï¼Œhandleæ˜¯è·¯ç”±å®šä¹‰çš„handleã€‚ä¸¤è€…ç»“åˆåœ¨ä¸€èµ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°åŠ¨æ€å›¾ç‰‡é¢„åŠ è½½äº†

1.  åœ¨è·¯ç”±éƒ¨åˆ†å®šä¹‰handle

```jsx
export const handle = {
  dynamicLinks: ({ data }) => [
    {
      rel: 'preload',
      href: data.hero.image_url,
      as: 'image',
    }
  ]
}
```

1.  åœ¨root.tsxä¸­æ¸²æŸ“link

```jsx
export default function App() {
  const matches = useMatches();
  let dynamicLinks = [];
  
  for (let match of matches) {
    if (match.handle.dynamicLinks) {
      const links = match.handle.dynamicLinks({ data: match.data });
      dynamicLinks = [...dynamicLinks, ...links]
    }
  }
  
  // render the links
}
```

å¤§ä½“å®ç°æ€è·¯å¦‚ä¸Šã€‚ç¤¾åŒºå†…ä¹Ÿå·²æœ‰[ç›¸å…³å®ç°](https://github.com/sergiodxa/remix-utils#dynamiclinks)å¯ç›´æ¥ä½¿ç”¨ã€‚

handle+useMatchesæä¾›äº†å¾ˆå¼ºå¤§çš„èƒ½åŠ›ï¼Œåœ¨Remixåº”ç”¨é‡Œå¯ä»¥å®ç°ä¸€äº›è‡ªå®šä¹‰çš„æ¨¡å¼/çº¦å®šã€‚

ä¼˜åŒ–åæ•ˆæœ

<div data-type="transform-warn" data-index="104"> 

 ![image](http://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c3447c84ddbb485881df6f9b1da4c282~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

å¯ä»¥çœ‹åˆ°ï¼Œå›¾ç‰‡åœ¨HTMLè¿”å›åå°±ç«‹å³å¼€å§‹åŠ è½½äº†ï¼Œä¸å†è¢«cssèµ„æºé˜»å¡ã€‚

å†çœ‹ä¸€ä¸‹Mavieå¹³å°çš„æ•°æ®

<div data-type="transform-warn" data-index="107"> 

 ![image](http://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/00bcbc2d676747f098808ea4f25d67a1~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

LCPåœ¨1.6så·¦å³ã€‚



çº¿ä¸Šæ•°æ®

<div data-type="transform-warn" data-index="111"> 

 ![image](http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e032a66067244a23803f0223470c23c1~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

**4så·¦å³ -> 3s**



## ç¬¬ä¸‰æ­¥ï¼šStreaming?Partial SSR? 3s - 2s

å†æ¥çœ‹ä¸€çœ¼æˆ‘ä»¬çš„é¡¹ç›®

> æˆ˜æŠ¥åªæœ‰ä¸€ä¸ªé¡µé¢ï¼Œæ¯ä¸ªæ¨¡å—ä¸ºä¸€å±ï¼Œç”¨æˆ·é€šè¿‡ä¸Šåˆ’æ¥æŸ¥çœ‹ä¸åŒæ¨¡å—çš„æ•°æ®ä¿¡æ¯ï¼Œæ¯”å¦‚æ®µä½ã€è‹±é›„ç­‰

<div data-grid-img>

 ![image](http://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/52a3ab15d8b9405a8c50cf3158f52ce8~tplv-k3u1fbpfcp-watermark.image?)

![image](http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cedcdd6a275144179bc771cda1f47155~tplv-k3u1fbpfcp-watermark.image?)

![image](http://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4ad30bcf60f140c68ab05c1b55344afd~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

æˆ‘ä»¬ç›®å‰çš„æ–¹æ¡ˆæ˜¯åœ¨æœåŠ¡ç«¯æŠŠæ‰€æœ‰é¡µé¢æ¸²æŸ“å¥½ï¼Œåœ¨ä¸€èµ·è¿”å›ç»™æµè§ˆå™¨ã€‚ä½†å¦‚æœä»æ€§èƒ½è€ƒè™‘çš„è¯ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯å¯ä»¥åœ¨æœåŠ¡ç«¯æ¸²æŸ“å¥½ç¬¬ä¸€å±ï¼Œå°±ç›´æ¥è¿”å›å‘¢ï¼Ÿå‰©ä¸‹çš„å†…å®¹å¯ä»¥é€šè¿‡Streamingçš„æ–¹å¼è¿”å›ã€‚

React 18å·²ç»æ”¯æŒStreamingï¼Œä½†Remixçš„èåˆæ–¹æ¡ˆè¿˜åœ¨å¼€å‘ä¸­ï¼Œç›®å‰è¿˜æ²¡æœ‰å‘å¸ƒæ­£å¼ç‰ˆæœ¬ï¼Œæˆ‘ä»¬æš‚æ—¶æ˜¯ç”¨ä¸ä¸Šäº†ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç”¨ç±»ä¼¼çš„æ€è·¯å»æå‡æ€§èƒ½ - **åªåœ¨æœåŠ¡ç«¯æ¸²æŸ“é¦–å±ï¼Œå…¶ä»–å†…å®¹åœ¨å®¢æˆ·ç«¯æ¸²æŸ“**

è€Œä¸”æˆ˜æŠ¥é¡µé¢æ˜¯é‡äº¤äº’çš„ï¼ŒåŒ…æ‹¬Fullpageç‰¹æ€§å’Œå¯è§†åŒ–çš„å†…å®¹ã€‚è¿™äº›æ˜¯æ— æ³•ï¼Œä¹Ÿæ²¡å¿…è¦åœ¨æœåŠ¡ç«¯å»æ¸²æŸ“å’Œå¤„ç†çš„ã€‚



å¤§ä½“å®ç°æ€è·¯å¦‚ä¸‹ã€‚åœ¨SSRæ¸²æŸ“æ—¶ï¼Œç›´æ¥è¿”å›nullï¼Œåœ¨å®¢æˆ·ç«¯æ¸²æŸ“æ—¶å†æ¸²æŸ“ç»„ä»¶

```jsx
function ClientOnly({ children }) {
  let [isClient, setIsClient] = useState(false);
  useEffect(() => {
    setIsClient(true);
  }, [])
  return !isClient ? null : <>{children()}</>;
}
```

è¿™éƒ¨åˆ†ç¤¾åŒºå†…å·²æœ‰[ç›¸å…³å®ç°](https://github.com/sergiodxa/remix-utils#clientonly)ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨



<div data-grid-img>

  
</div>



ä¼˜åŒ–å¸¦æ¥çš„æœ€ç›´è§‚çš„å˜åŒ–å°±æ˜¯HTMLä½“ç§¯

ä¼˜åŒ–å‰

<div data-type="transform-warn" data-index="130"> 

 ![image](http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/46bd8f56637e4c25b7b5b42f1a5c44a2~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

ä¼˜åŒ–å

<div data-type="transform-warn" data-index="132"> 

 ![image](http://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/cd2a9f3844e9476f9363d774ede98ee4~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

ä¼ è¾“ä½“ç§¯å‡å°‘äº†20%ï¼Œå®é™…ä½“ç§¯å‡å°‘äº†44%ã€‚

*   æœåŠ¡ç«¯ä¸éœ€è¦æ¸²æŸ“ç›¸å…³ç»„ä»¶ï¼ŒæœåŠ¡ç«¯è€—æ—¶é™ä½ã€‚TTFBå‡å°‘

*   ä¼ è¾“ä½“ç§¯å‡å°ï¼Œå“åº”è€—æ—¶å‡å°‘

*   HTMLä½“ç§¯å‡å°ï¼Œæµè§ˆå™¨é¦–å±æ¸²æŸ“ï¼Œè§£æDOMçš„è€—æ—¶å‡å°‘



çº¿ä¸Šæ•°æ®

<div data-type="transform-warn" data-index="139"> 

 ![image](http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0135d834f17b462eb87aaac2c2982704~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

**3så·¦å³ -> 2så·¦å³**



## è¿˜åšäº†å“ªäº›ä¼˜åŒ–

> æˆ‘ä»¬è¿˜åšäº†ä¸€äº›é€šç”¨çš„ä¼˜åŒ–

### æ ·å¼åˆå¹¶ï¼Œå‹ç¼©å’Œè£å‰ª 

æœ€åˆï¼Œç›´æ¥ç”¨remixæ”¯æŒçš„è·¯ç”±ç»„ä»¶å†…å¼•å…¥æ ·å¼çš„æ–¹æ³•ã€‚

æ ·å¼æŒ‰ç…§å¸¸è§„å†™æ³•ï¼Œç»™æ¯ä¸ªç»„ä»¶ï¼ˆè·¯ç”±ç»„ä»¶æˆ–åŸå­ç»„ä»¶ï¼‰ç¼–å†™ç‹¬ç«‹çš„æ ·å¼æ–‡ä»¶ã€‚è·¯ç”±ä¸‹å°†ç”¨åˆ°çš„æ ·å¼æ–‡ä»¶å…¨éƒ¨å¼•å…¥ã€‚

<div data-type="transform-warn" data-index="147"> 

 ![image](http://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d7dfc4d545e540d2a65d8972d3f9934a~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

*å½“è®¿é—®é¡µé¢æ—¶ï¼Œä¼šå°†æ¯å±‚è·¯ç”±çš„æ ·å¼æ–‡ä»¶åŠ è½½ã€‚æ¯ä¸ªå¼•å…¥çš„æ ·å¼æ–‡ä»¶éƒ½å¯¹åº”ç”Ÿæˆä¸€ä¸ªstylesheet link*

åœ¨æ„å»ºé˜¶æ®µï¼Œcssæ–‡ä»¶åŸæ ·å¤åˆ¶åˆ°äº†buildç›®å½•ï¼Œæ—¢æ²¡æœ‰è¢«åˆå¹¶ä¹Ÿæ²¡æœ‰å‹ç¼©ã€‚å¤Ÿç›´æ¥ï¼Œä½†æ˜¯çœ‹èµ·æ¥ä¸æ˜¯ç›´æ¥ç”Ÿäº§å¯ç”¨çš„æ–¹æ¡ˆğŸ¤”ã€‚è€ƒè™‘åˆ°cssæ–‡ä»¶ä¼šç›´æ¥é˜»å¡é¡µé¢æ¸²æŸ“ï¼ŒåŸºäºæ€§èƒ½è¦æ±‚ä¼šå¸Œæœ›å…¶å°½å¿«åŠ è½½å®Œæˆã€‚



#### æ•°é‡ - CSSåˆå¹¶

åˆ†æä¸€ä¸‹ä¸ºä»€ä¹ˆè¿™é‡Œä¼šæœ‰è¿™ä¹ˆå¤šcssæ–‡ä»¶ï¼Ÿå…¨å±€æ ·å¼ï¼ˆTUXç»„ä»¶æ ·å¼ã€æ ‡å‡†åŒ–æ ·å¼ç­‰ï¼‰ã€å½“å‰è·¯ç”±æ ·å¼ã€å½“å‰è·¯ç”±ä½¿ç”¨åˆ°çš„ç»„ä»¶æ ·å¼...éƒ½æ˜¯ç‹¬ç«‹çš„cssã€‚åŸºäºæ¸¸æˆç¤¾åŒºäº§å“æŠ•æ”¾ç¯å¢ƒè€ƒè™‘ï¼ˆä¸œå—äºšã€æ‹‰ç¾ ç½‘ç»œç¯å¢ƒè¾ƒå·®ï¼‰ï¼Œéœ€è¦åˆç†åœ°å‡å°‘åŠ è½½cssæ–‡ä»¶æ•°é‡ã€‚

å‡å°‘cssæ•°é‡å°±è¦è¿›è¡Œåˆå¹¶ï¼Œåˆå¹¶ç»“æœæ˜¯ä»¥è·¯ç”±ç»´åº¦å¼•å…¥å•ä¸ªcssï¼Œä¸Remixç»´æŠ¤æ•°æ®åŠ è½½æ–¹å¼ä¸€è‡´ã€‚åˆå¹¶æ–¹å¼å¸Œæœ›èƒ½å¤Ÿä¿ç•™ä»¥ç»„ä»¶ç»´åº¦å¼€å‘cssçš„ä¹ æƒ¯ï¼ŒåŒæ—¶ç»™åˆå¹¶ç•™ä¸‹ä¸€äº›çµæ´»æ€§ï¼Œ@import+æ‰“åŒ…å·¥å…·åˆå¹¶å¤„ç†å°±æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚

<div data-type="transform-warn" data-index="154"> 

 ![image](http://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b8d90c9217f64142880d6fbbad90ee5a~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

<div data-grid-img>

 ![image](http://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b232cfce2bbb43bc9925ecea1050eede~tplv-k3u1fbpfcp-watermark.image?)

![image](http://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8012e8317d714d618a372c5bef3bcb3c~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

> è·¯ç”±ç»´åº¦å¼•å…¥æ ·å¼æ–‡ä»¶ï¼Œåœ¨ä¸åŒè·¯ç”±æ ·å¼ä¸‹æ‰‹åŠ¨`@import`ç»„ä»¶æ ·å¼ï¼Œåˆ©ç”¨[parcel-css](https://github.com/parcel-bundler/parcel-css)å·¥å…·æ‰“åŒ…è¿›å¯¹åº”è·¯ç”±æ ·å¼ä¸­ã€‚å•é¡µé¢æ¥çœ‹CSSæ–‡ä»¶æ•°é‡ä» 21 ä¸ªå‡å°‘åˆ° 2 ä¸ªã€‚



#### ä½“ç§¯ - å‹ç¼©

å‹ç¼©æ˜¯è§£å†³cssæ–‡ä»¶ä½“ç§¯æœ€ç®€å•ç›´æ¥çš„æ–¹å¼ã€‚

<div data-type="transform-warn" data-index="160"> 

 ![image](http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/974378b0f2e44a1a82769fb1805c729a~tplv-k3u1fbpfcp-watermark.image?)
 
</div>


> ä½¿ç”¨parcel-csså‹ç¼©åï¼Œä½“ç§¯ 135KB + 1.82KB -> 109KB + 1.64KBï¼Œä½“ç§¯å‡å°‘20%ã€‚

è¿˜ä¸é”™ ä½†è¿˜ä¸å¤Ÿï¼



#### ä½“ç§¯ - è£å‰ª

é™¤æ­¤ä¹‹å¤–ï¼Œæ¸¸æˆç¤¾åŒºåœºæ™¯ä¸­å…¨é‡å¼•å…¥TUXæ ·å¼ä¹Ÿæ˜¯cssä½“ç§¯å¤§çš„â€œå…ƒå‡¶â€ï¼ŒTUXæ ·å¼åŒ…å«ç»„ä»¶æ ·å¼åŠåŸå­æ ·å¼ï¼ˆç±»ä¼¼TailwindCSSï¼‰ã€‚åº”ç”¨ç»„ä»¶åº“çš„é¡¹ç›®é€šå¸¸ä¸ä¼šä½¿ç”¨åˆ°æ‰€æœ‰ç»„ä»¶ï¼ŒåŸå­æ ·å¼ä¹Ÿåªä¼šä½¿ç”¨åˆ°å…¶ä¸­ä¸€å°éƒ¨åˆ†ï¼ŒåŠ è½½å¤§é‡æ²¡æœ‰è¢«é¡µé¢ä½¿ç”¨åˆ°çš„æ ·å¼æ— ç–‘æ˜¯ä¸€ç§æµªè´¹ã€‚è§£æ³•æ˜¯ä»€ä¹ˆï¼Ÿå°†ç”¨åˆ°çš„æ ·å¼æŒ‘é€‰å‡ºæ¥ğŸ§™â€â™‚ï¸ã€‚

è¿™é‡Œä½¿ç”¨åˆ°ä¸€ä¸ªå·¥å…·PurgeCSSï¼šå®ƒåˆ†æä¼ å…¥çš„contentæ–‡ä»¶å’ŒCSSï¼ŒåŒ¹é…åä» CSS ä¸­åˆ é™¤æœªä½¿ç”¨çš„é€‰æ‹©å™¨ï¼Œä»è€Œç”Ÿæˆæ›´å°çš„ CSS æ–‡ä»¶ã€‚

<div data-type="transform-warn" data-index="167"> 

 ![image](http://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8520d5f666be45fda37b42de427af804~tplv-k3u1fbpfcp-watermark.image?)
 
</div>


> ä½¿ç”¨PurgeCSSè£å‰ªåï¼Œä½“ç§¯ 109KB -> 37KBï¼Œä½“ç§¯å‡å°‘66%ã€‚


#### ğŸŒŸ æ€»ç»“å¦‚ä¸‹

<div data-type="transform-warn" data-index="171"> 

 ![image](http://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4d84d31623a340df88c96afc641093c2~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

*åˆå¹¶ã€å‹ç¼©ã€è£å‰ªå¤„ç†åçš„**CSS**æ–‡ä»¶æ•°é‡**ï¼ˆ21 => 2ï¼‰**å’Œä½“ç§¯**ï¼ˆå‡å°‘72%ï¼‰**éƒ½å¾—åˆ°äº†ä¼˜åŒ– ğŸ˜Š*



### ç»™TUXç»„ä»¶åº“åšTree Shaking

Remixåº•å±‚æ‰“åŒ…å·¥å…·æ˜¯esbuildï¼Œè·Ÿä¹‹å‰ç†Ÿæ‚‰çš„webpackå®Œå…¨ä¸åŒã€‚æ˜¯å¦æ”¯æŒTree Shakingå‘¢ï¼Ÿæœ‰å¿…è¦å¯¹æ‰“åŒ…äº§ç‰©åšä¸€æ¬¡åˆ†æ

esbuildæœ¬èº«æ˜¯æ”¯æŒbundle analyzeçš„ã€‚ä½†Remixå¹¶æ²¡æœ‰æŠŠè¿™ä¸ªèƒ½åŠ›å¼€æ”¾å‡ºæ¥ï¼Œä½ åªèƒ½é€šè¿‡æ”¹æºç çš„æ–¹å¼å»æ”¹å˜esbuildçš„è¡Œä¸ºã€‚ç¤¾åŒºé‡Œå·²ç»æœ‰åŒå¥½æä¾›äº†ç›¸å…³ä»£ç  - https://github.com/kiliman/remix-esbuild-analysis

<div data-type="transform-warn" data-index="177"> 

 ![image](http://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fc1da75f28484539ad1dcd09388edd7a~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

æƒŠäººçš„å‘ç°å¼•å…¥çš„TUXç»„ä»¶ä»£ç ä½“ç§¯ç«Ÿç„¶æœ‰439KBï¼Œè€Œä¸”400KBæ˜¯æ²¡æœ‰ç”¨åˆ°çš„xgplayerç›¸å…³ä»£ç ã€‚ç»è¿‡å’ŒTUXåŒå­¦å‹å¥½æ²Ÿé€šåï¼Œåˆ¤æ–­å‡ºåº”è¯¥æ˜¯Remixæœ¬èº«æ‰“åŒ…çš„é—®é¢˜ï¼Œå¯¼è‡´è¿™éƒ¨åˆ†Tree Shakingæ²¡æœ‰ç”Ÿæ•ˆ

#### è§£å†³æ–¹æ¡ˆ - ç»™TUXæ‰“è¡¥ä¸

é…åˆpatch-packageï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥æ”¹é¡¹ç›®ä¸­TUXçš„ä»£ç ï¼ŒæŠŠTUXPlayerå¼•ç”¨æ³¨é‡Šæ‰

<div data-type="transform-warn" data-index="181"> 

 ![image](http://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f9a3303d542147daac1de2c5d620b1a2~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

æ•ˆæœå¦‚ä¸‹å›¾ - ä½“ç§¯å‡å°90%

<div data-type="transform-warn" data-index="183"> 

 ![image](http://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/993a30fc551741c78c954ba8a6ba0186~tplv-k3u1fbpfcp-watermark.image?)
 
</div>



## æœ€ç»ˆæ•ˆæœ&#x20;

<div data-type="transform-warn" data-index="186"> 

 ![image](http://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/099300cc497d4170a4a97cf9c04a8358~tplv-k3u1fbpfcp-watermark.image?)
 
</div>

**æ¥è¿‘7s ä¼˜åŒ–åˆ° 2så·¦å³**



## æ€»ç»“

Remixæ•´ä¸ªæ¡†æ¶è¿˜æ˜¯æ¯”è¾ƒæœ‰æ„æ€çš„ï¼Œè·¯ç”±çº§åˆ«çš„æ•°æ®è¯·æ±‚+åµŒå¥—è·¯ç”±è§£å†³äº†ç½‘ç»œè¯·æ±‚waterfalçš„é—®é¢˜ï¼Œè€Œç½‘ç»œå°±æ˜¯æ€§èƒ½æœ€å¤§çš„å¡ç‚¹

åŒæ—¶å¼€å‘ä½“éªŒä¹Ÿéå¸¸ä¸é”™ã€‚æ•´ä½“çš„è®¾è®¡ç†å¿µå’Œå“²å­¦ä¹Ÿå¾ˆä¼˜ç§€ï¼Œå€¼å¾—å¤§å®¶å¤šå¤šå­¦ä¹ 

ç›®å‰Remixå·²åœ¨æˆ‘ä»¬å¤šä¸ªé¡¹ç›®ä¸­è½åœ°ï¼Œæ•ˆæœéƒ½éå¸¸ä¸é”™ï¼Œå¦å¤–è¿˜æœ‰å¾ˆå¤šæœ‰è¶£çš„ç‰¹æ€§æˆ‘ä»¬ä¹Ÿæ­£åœ¨å°è¯•å’Œè°ƒç ”ä¸­ï¼Œæ¯”å¦‚Streamingï¼Œè¾¹ç¼˜æœºæˆ¿éƒ¨ç½²ç­‰ã€‚

## å¼•ç”¨

*   https://remix.run/
